"undefined"==typeof window.shopstorm?window.shopstorm={apps:{productCustomizer:{}}}:"undefined"==typeof window.shopstorm.apps?window.shopstorm.apps={productCustomizer:{}}:"undefined"==typeof window.shopstorm.apps.productCustomizer&&(window.shopstorm.apps.productCustomizer={}),window.shopstorm.apps.productCustomizer.jqueryLoadedCallback=function(t){var o={};t.fn.fontselect=function(e){var r=function(t,o){return function(){return t.apply(o,arguments)}},i={style:"font-select",placeholder:"Select a font",placeholderSearch:"Search...",searchable:!0,lookahead:2,googleApi:"https://fonts.googleapis.com/css?family=",localFontsUrl:"/fonts/",systemFonts:"Arial|Helvetica+Neue|Courier+New|Times+New+Roman|Comic+Sans+MS|Verdana|Impact".split("|"),googleFonts:"Abril+Fatface|Aclonica|Alfa+Slab+One|Allan|Amarante|Annie+Use+Your+Telescope|Anonymous+Pro|Allerta+Stencil|Allerta|Amaranth|Anton|Arbutus|Architects+Daughter|Archivo+Black|Arimo|Artifika|Arvo|Asset|Astloch|Audiowide|Bangers|Baumans|Bentham|Bevan|Bigshot+One|Black+Ops+One|Bowlby+One|Bowlby+One+SC|Brawler|Bubblegum+Sans|Buda:300|Butcherman|Butterfly+Kids|Cabin|Caesar+Dressing|Calligraffitti|Candal|Cantarell|Cardo|Carter+One|Caudex|Cedarville+Cursive|Changa+One|Cherry+Cream+Soda|Chewy|Coda|Codystar|Comfortaa|Coming+Soon|Copse|Corben|Cousine|Covered+By+Your+Grace|Crafty+Girls|Crimson+Text|Crushed|Cuprum|Damion|Dancing+Script|Dawning+of+a+New+Day|Days+One|Didact+Gothic|Diplomata|Droid+Sans|Droid+Serif|EB+Garamond|Ewert|Expletus+Sans|Faster+One|Fontdiner+Swanky|Forum|Francois+One|Fredoka+One|Fugaz+One|Glass+Antiqua|Geo|Give+You+Glory|Goblin+One|Gorditas|Goudy+Bookletter+1911|Gravitas+One|Gruppo|Hammersmith+One|Hanalei|Henny+Penny|Holtwood+One+SC|Homemade+Apple|Inconsolata|Indie+Flower|Irish+Grover|Istok+Web|Josefin+Sans|Josefin+Slab|Judson|Jura|Just+Another+Hand|Just+Me+Again+Down+Here|Kameron|Kenia|Kranky|Kreon|Kristi|La+Belle+Aurore|Lato|League+Script|Lekton|Limelight|Lobster|Lobster+Two|Lora|Love+Ya+Like+A+Sister|Loved+by+the+King|Luckiest+Guy|Maiden+Orange|Mako|Maven+Pro|Maven+Pro:900|Meddon|MedievalSharp|Megrim|Merriweather|Metrophobic|Michroma|Miltonian+Tattoo|Miltonian|Modern+Antiqua|Monofett|Molengo|Montserrat:300|Montserrat|Montserrat:700|Mountains+of+Christmas|Muli:300|Muli|Mystery+Quest|Neucha|Neuton|News+Cycle|Nixie+One|Nobile|Nova+Cut|Nova+Flat|Nova+Mono|Nova+Oval|Nova+Round|Nova+Script|Nova+Slim|Nova+Square|Nunito|Old+Standard+TT|Open+Sans:300|Open+Sans|Open+Sans:600|Open+Sans:800|Open+Sans+Condensed:300|Orbitron|Orbitron:500|Orbitron:700|Orbitron:900|Oswald|Over+the+Rainbow|Piedra|Prociono|Questrial|Reenie+Beanie|Pacifico|Patrick+Hand|Paytone+One|Permanent+Marker|Philosopher|Play|Playfair+Display|Podkova|Poiret+One|Press+Start+2P|Puritan|Quattrocento|Quattrocento+Sans|Racing+Sans+One|Radley|Raleway:100|Redressed|Ribeye|Ribeye+Marrow|Risque|Rock+Salt|Rokkitt|Ruslan+Display|Schoolbell|Shadows+Into+Light|Shanti|Sigmar+One|Six+Caps|Slackey|Smythe|Sniglet|Sniglet:800|Special+Elite|Stardos+Stencil|Sue+Elen+Francisco|Sunshiney|Swanky+and+Moo+Moo|Syncopate|Tangerine|Tenor+Sans|Terminal+Dosis+Light|The+Girl+Next+Door|Tinos|Ubuntu|Ultra|Unkempt|UnifrakturCook:bold|UnifrakturMaguntia|Varela|Varela+Round|Vast+Shadow|Vibur|Vollkorn|VT323|Waiting+for+the+Sunrise|Wallpoet|Walter+Turncoat|Wire+One|Yanone+Kaffeesatz|Yeseva+One|Zeyada".split("|")},s=function(){function e(o,e){e.systemFonts||(e.systemFonts=[]),e.localFonts||(e.localFonts=[]),e.googleFonts||(e.googleFonts=[]),this.options=e,this.$original=t(o),this.setupHtml(),this.getVisibleFonts(),this.bindEvents(),this.query="",this.keyActive=!1,this.searchBoxHeight=0;var r=this.$original.val();r&&(this.updateSelected(),this.addFontLink(r))}return e.prototype={keyDown:function(o){function e(t){t.preventDefault(),t.stopPropagation()}if(this.keyActive=!0,27==o.keyCode)return e(o),void this.toggleDropdown("hide");if(38==o.keyCode){e(o);var r=t("li.active",this.$results),i=r.prev("li");return void(i.length>0&&(r.removeClass("active"),this.$results.scrollTop(i.addClass("active")[0].offsetTop-this.searchBoxHeight)))}if(40==o.keyCode){e(o);var r=t("li.active",this.$results),s=r.next("li");return void(s.length>0&&(r.removeClass("active"),this.$results.scrollTop(s.addClass("active")[0].offsetTop-this.searchBoxHeight)))}if(13==o.keyCode)return e(o),void t("li.active",this.$results).trigger("click");this.query+=String.fromCharCode(o.keyCode).toLowerCase();var n=t("li[data-query^='"+this.query+"']").first();n.length>0&&(t("li.active",this.$results).removeClass("active"),this.$results.scrollTop(n.addClass("active")[0].offsetTop))},keyUp:function(){this.keyActive=!1},bindEvents:function(){var o=this;t("li",this.$results).click(r(this.selectFont,this)).mouseover(r(this.activateFont,this)),this.$select.click(r(function(){o.toggleDropdown("show")},this)),this.$original.on("setFont",function(e,r,i){i=i||400;var s=r.replace(/ /g,"+")+(400==i?"":":"+i),n=t("li[data-value='"+s+"']",o.$results);0==n.length&&(s=r.replace(/ /g,"+")),n=t("li[data-value='"+s+"']",o.$results),t("li.active",o.$results).removeClass("active"),n.addClass("active"),o.$original.val(s),o.updateSelected(),o.addFontLink(n.data("value"))}),this.$original.on("change",function(){o.updateSelected(),o.addFontLink(t("li.active",o.$results).data("value"))}),this.options.searchable&&this.$input.on("keyup",function(){var e=this.value.toLowerCase();t("li",o.$results).each(function(){-1==t(this).text().toLowerCase().indexOf(e)?t(this).hide():t(this).show()})}),t(document).on("click",function(e){0===t(e.target).closest("."+o.options.style).length&&o.toggleDropdown("hide")})},toggleDropdown:function(t){"hide"===t?(this.$element.off("keydown keyup"),this.query="",this.keyActive=!1,this.$element.removeClass("font-select-active"),this.$drop.hide(),clearInterval(this.visibleInterval)):(this.$element.on("keydown",r(this.keyDown,this)),this.$element.on("keyup",r(this.keyUp,this)),this.$element.addClass("font-select-active"),this.$drop.show(),this.visibleInterval=setInterval(r(this.getVisibleFonts,this),500),this.searchBoxHeight=this.$search.outerHeight(),this.moveToSelected())},selectFont:function(){var o=t("li.active",this.$results).data("value");this.$original.val(o).change(),this.updateSelected(),this.toggleDropdown("hide")},moveToSelected:function(){var o=this.$original.val().replace(/ /g,"+"),e=o?t("li[data-value='"+o+"']",this.$results):e=t("li",this.$results).first();this.$results.scrollTop(e.addClass("active")[0].offsetTop-this.searchBoxHeight)},activateFont:function(o){this.keyActive||(t("li.active",this.$results).removeClass("active"),t(o.target).addClass("active"))},updateSelected:function(){var o=this.$original.val();t("span",this.$element).text(this.toReadable(o)).css(this.toStyle(o))},setupHtml:function(){this.$original.hide(),this.$element=t("<div>",{"class":this.options.style}),this.$select=t('<span tabindex="0">'+this.options.placeholder+"</span>"),this.$search=t("<div>",{"class":"fs-search"}),this.$input=t("<input>",{type:"text"}),this.options.placeholderSearch&&this.$input.attr("placeholder",this.options.placeholderSearch),this.$search.append(this.$input),this.$drop=t("<div>",{"class":"fs-drop"}),this.$results=t("<ul>",{"class":"fs-results"}),this.$original.after(this.$element.append(this.$select,this.$drop)),this.options.searchable&&this.$drop.append(this.$search),this.$drop.append(this.$results.append(this.fontsAsHtml())).hide()},fontsAsHtml:function(){var t,o,e,r,i="",s=this.options.systemFonts,n=this.options.localFonts,a=this.options.googleFonts;for(t=0;t<s.length;t++)o=this.toReadable(s[t]),e=this.toStyle(s[t]),r="font-family:"+e["font-family"],(n.length>0||a.length>0)&&t==s.length-1&&(r+=";border-bottom:1px solid #444"),i+='<li data-value="'+s[t]+'" data-query="'+s[t].toLowerCase()+'" style="'+r+'">'+o+"</li>";for(t=0;t<n.length;t++)o=this.toReadable(n[t]),e=this.toStyle(n[t]),r="font-family:"+e["font-family"],a.length>0&&t==n.length-1&&(r+=";border-bottom:1px solid #444"),i+='<li data-value="'+n[t]+'" data-query="'+n[t].toLowerCase()+'" style="'+r+'">'+o+"</li>";for(t=0;t<a.length;t++)o=this.toReadable(a[t]),e=this.toStyle(a[t]),r="font-family:"+e["font-family"]+";font-weight:"+e["font-weight"],i+='<li data-value="'+a[t]+'" data-query="'+a[t].toLowerCase()+'" style="'+r+'">'+o+"</li>";return i},toReadable:function(t){return t.replace(/[\+|:]/g," ")},toStyle:function(t){var o=t.split(":");return{"font-family":"'"+this.toReadable(o[0])+"'","font-weight":o[1]||400}},getVisibleFonts:function(){if(!this.$results.is(":hidden")){var o=this,e=this.$results.scrollTop(),r=e+this.$results.height();if(this.options.lookahead){var i=t("li",this.$results).first().height();r+=i*this.options.lookahead}t("li:visible",this.$results).each(function(){var i=t(this).position().top+e,s=i+t(this).height();s>=e&&r>=i&&o.addFontLink(t(this).data("value"))})}},addFontLink:function(e){o[e]||(o[e]=!0,this.options.googleFonts.indexOf(e)>-1?t("link:last").after('<link href="'+this.options.googleApi+e+'" rel="stylesheet" type="text/css">'):this.options.localFonts.indexOf(e)>-1&&(e=this.toReadable(e),t("head").append("<style> @font-face { font-family:'"+e+"'; font-style:normal; font-weight:400; src:local('"+e+"'), url('"+this.options.localFontsUrl+e+".woff') format('woff'); } </style>")))}},e}();return this.each(function(){return e&&t.extend(i,e),new s(this,i)})}},function(t,o,e,r){function s(t,o){for(t=t.split("."),o=o.split("."),i=0,ix=Math.max(t.length,o.length);i<ix;i++){var e=parseInt(t[i]),r=parseInt(o[i]);if(e>r||isNaN(r))return 1;if(r>e||isNaN(e))return-1}return 0}var n,a,p=!1;if(n="undefined"!=typeof t.shopstorm&&"undefined"!=typeof t.shopstorm.apps&&"undefined"!=typeof t.shopstorm.apps.productCustomizer&&"undefined"!=typeof t.shopstorm.apps.productCustomizer.$?t.shopstorm.apps.productCustomizer.$:t.jQuery,!n||1==s(e,n.fn.jquery)||r(n,p)){var u=o.createElement("script");u.src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js",u.onload=u.onreadystatechange=function(){p||(a=this.readyState)&&"loaded"!=a&&"complete"!=a||(n=jQuery.noConflict(!0),r(n,p=!0),n(u).remove())};try{o.body.appendChild(u)}catch(d){try{o.documentElement.childNodes[0].appendChild(u)}catch(d){console.warn("Shopify Product Customizer: error loading")}}}}(window,document,"2.0.1",function(t){if(console.log("Product Customizer Version 2.0.1"),window.shopstorm=window.shopstorm||{},window.shopstorm.shop=window.shopstorm.shop||{},window.shopstorm.shop.moneyFormat=window.shopstorm.shop.moneyFormat||null,window.shopstorm.apps=window.shopstorm.apps||{},window.shopstorm.apps.productCustomizer=window.shopstorm.apps.productCustomizer||{},window.shopstorm.apps.productCustomizer.$=window.shopstorm.apps.productCustomizer.$||t,window.shopstorm.apps.productCustomizer.jQueries=window.shopstorm.apps.productCustomizer.jQueries||[t],window.productCustomizerCallbacks=window.productCustomizerCallbacks||{},"function"==typeof window.shopstorm.apps.productCustomizer.jqueryLoadedCallback&&window.shopstorm.apps.productCustomizer.jqueryLoadedCallback(t),"undefined"==typeof shopstorm.apps.productCustomizer.collectOptionsCost&&(shopstorm.apps.productCustomizer.collectOptionsCost=function(o,e){e=e||!1;var r=t('.product-customizer-options[data-product-id="'+o+'"]'),i=[];return"undefined"!=typeof shopstorm.apps.productCustomizer.options.productOptions&&shopstorm.apps.productCustomizer.options.productOptions[o]&&t.each(shopstorm.apps.productCustomizer.options.productOptions[o],function(s,n){var a,p=n.fieldKey,u=n.name,d=s+1;if(!u&&p.indexOf("_")>-1&&(u=p.split("_")[1]),a=t(r.data("version")&&shopstorm.apps.versionCompare(r.data("version"),"1.6.3",">")?"#"+o+"_option_"+d:"#"+o+"_option_"+p.split("_")[0]),!a.closest(".product-customizer-option").hasClass("conditional-logic-hidden")){if(n.option_prices){var c=n.option_prices.split(",");if("SELECT"==a.prop("tagName")){var l=0;if(0==a.find("[data-index]").length){var m=a.prop("selectedIndex");"undefined"!=typeof m&&(l+=parseInt(c[m])||0)}else t.each(a.find(":selected"),function(o,e){var r=t(e).data("index");l+=parseInt(c[r])||0});l=shopstorm.apps.productCustomizer.getOptionCost(o,a.attr("id"),p,l),l&&i.push({name:u,cost:parseInt(l),id:a.attr("id")})}else if(a.closest(".option-type-checkbox_group, .option-type-radio").length>0){var l=0;t.each(a.closest(".option-type-checkbox_group, .option-type-radio").find("input:checked"),function(o,e){var r=t(e).attr("id").split("_").pop();l+=parseInt(c[r])||0}),l=shopstorm.apps.productCustomizer.getOptionCost(o,a.attr("id"),p,l),l&&i.push({name:u,cost:parseInt(l),id:a.attr("id")})}}else if(n.price&&(!a.is(":checkbox")&&a.val().trim()||a.is(":checkbox")&&a.is(":checked")||e&&a.is(":visible")&&a.prop("required"))){var l=shopstorm.apps.productCustomizer.getOptionCost(o,a.attr("id"),p,parseInt(n.price));l&&i.push({name:u,cost:parseInt(l),id:a.attr("id")})}d++}}),i}),"undefined"==typeof shopstorm.apps.versionCompare&&(shopstorm.apps.versionCompare=function(t,o,e){if(e=e||"<=>",t==o)switch(e){case"<=>":return 0;case">":return!1;case">=":return!0}for(t=t.split("."),o=o.split("."),i=0,ix=Math.max(t.length,o.length);i<ix;i++){var r=parseInt(t[i]),s=parseInt(o[i]);switch(e){case"<=>":if(r>s||isNaN(s))return 1;if(s>r||isNaN(r))return-1;break;case">":case">=":if(r>s||isNaN(s))return!0;if(s>r||isNaN(r))return!1}}}),"undefined"==typeof shopstorm.apps.productCustomizer.getOptionCost&&(shopstorm.apps.productCustomizer.getOptionCost=function(o,e,r,i){var s=100;return"autodeliver"==t(".rc_container input.rc_radio:checked").val()&&(s-=shopstorm.apps.productCustomizer.options.discount),i*s/100}),"undefined"==typeof shopstorm.apps.productCustomizer.sumOptionsCost&&(shopstorm.apps.productCustomizer.sumOptionsCost=function(o,e){e=e||!1;var r=0;return t.isArray(o)||(o=shopstorm.apps.productCustomizer.collectOptionsCost(o,e)),t.each(o,function(t,o){r+=o.cost}),r}),"undefined"==typeof shopstorm.apps.productCustomizer.generatePricingItemUniqueId&&(shopstorm.apps.productCustomizer.generatePricingItemUniqueId=function(){return Math.floor(1e15*Math.random())}),"undefined"==typeof shopstorm.apps.productCustomizer.getMainProductQuantity&&(shopstorm.apps.productCustomizer.getMainProductQuantity=function(o){var e=t('.product-customizer-options[data-product-id="'+o+'"]'),r=e.closest('form[action="/cart/add"], form[action^="/cart/add?"]'),i=1,s=r.find("[name=quantity]");return s.length>0&&s.val().match(/^\d+$/)&&(i=parseInt(s.val())),i}),"undefined"==typeof shopstorm.apps.productCustomizer.setupMainProductPricingProperties&&(shopstorm.apps.productCustomizer.setupMainProductPricingProperties=function(o,e){var r=t('.product-customizer-options[data-product-id="'+o+'"]'),i=r.closest('form[action="/cart/add"], form[action^="/cart/add?"]'),s=shopstorm.apps.productCustomizer.collectOptionsCost(o),n=shopstorm.apps.productCustomizer.sumOptionsCost(s),a=n*shopstorm.apps.productCustomizer.getMainProductQuantity(o);return a?(0==r.find('input[name="properties[_pc_pricing_ref]"]').length&&r.append('<input type="hidden" name="properties[_pc_pricing_ref]" value="">'),0==r.find('input[name="properties[_pc_pricing_qty]"]').length&&r.append('<input type="hidden" name="properties[_pc_pricing_qty]" value="">'),i.find('input[name="properties[_pc_pricing_ref]"]').val(e),i.find('input[name="properties[_pc_pricing_qty]"]').val(n),!0):(t('input[name^="properties[_pc_pricing"]').remove(),!1)}),"undefined"==typeof shopstorm.apps.productCustomizer.addOptionPricingItemToCart&&(shopstorm.apps.productCustomizer.addOptionPricingItemToCart=function(o,e){var r=t('.product-customizer-options[data-product-id="'+o+'"]').eq(0),i=r.closest('form[action="/cart/add"], form[action^="/cart/add?"]'),s=shopstorm.apps.productCustomizer.collectOptionsCost(o),n=shopstorm.apps.productCustomizer.sumOptionsCost(s);if(e=e||shopstorm.apps.productCustomizer.generatePricingItemUniqueId(),i.data("product-customizer-doing-submit")&&shopstorm.apps.productCustomizer.preventDuplicateFormSubmissions)return!1;if(i.data("product-customizer-doing-submit",!0),shopstorm.apps.productCustomizer.formHasMissingRequired(i))return i.data("product-customizer-doing-submit",!1),!1;var a=n*shopstorm.apps.productCustomizer.getMainProductQuantity(o);if(!shopstorm.apps.productCustomizer.setupMainProductPricingProperties(o,e))return i.data("product-customizer-doing-submit",!1),!0;var p=i.serializeArray();if(p=shopstorm.apps.productCustomizer.updateSerializedArray(p,"quantity",a),p=shopstorm.apps.productCustomizer.updateSerializedArray(p,"id",shopstorm.apps.productCustomizer.pricingVariantId),p=shopstorm.apps.productCustomizer.updateSerializedArray(p,"properties[_pc_pricing_qty]",null),p=shopstorm.apps.productCustomizer.updateSerializedArray(p,"id[]",null),t.each(i.find("input:file:visible"),function(o,e){t(e).val()&&(p=shopstorm.apps.productCustomizer.updateSerializedArray(p,t(e).attr("name"),t(e).val().replace("C:\\fakepath\\","")))}),t.each(s,function(t,o){p=shopstorm.apps.productCustomizer.updateSerializedArray(p,"properties["+o.name+"]"," ("+o.cost+")","append")}),shopstorm.apps.productCustomizer.options.productTitles[o]){t.each(p,function(t,o){o.name&&0==o.name.indexOf("properties[")&&-1==o.name.indexOf("properties[_")&&"properties[subscription_id]"!=o.name&&"properties[shipping_interval_frequency]"!=o.name&&"properties[shipping_interval_unit_type]"!=o.name&&(p[t].name=o.name.replace("properties[","properties[_"))});var u=shopstorm.apps.productCustomizer.customizationsForText?shopstorm.apps.productCustomizer.customizationsForText:"Customizations for";p=shopstorm.apps.productCustomizer.updateSerializedArray(p,"properties["+u+"]",shopstorm.apps.productCustomizer.options.productTitles[o])}return response=t.ajax({method:"POST",url:"/cart/add.js",data:t.param(p),async:!1,dataType:"json"}),200!=response.status&&console.warn("Shopify Product Customizer: dynamic pricing product missing"),!0}),"undefined"==typeof shopstorm.apps.productCustomizer.updateSerializedArray&&(shopstorm.apps.productCustomizer.updateSerializedArray=function(o,e,r,i){var s=[],n=!1;return t.each(o,function(t,o){o.name==e?(n=!0,null!=r&&("append"==i?o.value+=r:o.value=r,s.push(o))):s.push(o)}),n||null==r||"append"==i||s.push({name:e,value:r}),s}),"undefined"==typeof shopstorm.apps.productCustomizer.formHasFileToUpload&&(shopstorm.apps.productCustomizer.formHasFileToUpload=function(o){var e=!1;return t.each(t(o).find("input[name^=properties]:file:visible"),function(){return t(this).val()?(e=!0,!1):void 0}),e}),"undefined"==typeof shopstorm.apps.productCustomizer.formHasMissingRequired&&(shopstorm.apps.productCustomizer.formHasMissingRequired=function(o){var e,r=!1;return t.each(t(o).find("[name^=properties][required]:visible"),function(o,e){return!t(e).val()&&!t(e).is(":checkbox, :radio")||t(e).is(":checkbox")&&!t(e).is(":checked")||t(e).is(":radio")&&0==t(e).closest("form").find('input[name="'+t(e).attr("name")+'"]:radio:checked').length?(r=!0,!1):void 0}),e=t(o).find(".option-type-checkbox_group[data-min-selections]").not(".conditional-logic-hidden"),e.each(function(o,e){var i=Math.min(t(e).data("min-selections"),t(e).find("input:checkbox").length);i>0&&t(e).find("input:checkbox:checked").length<i&&(r=!0)}),r}),"undefined"==typeof shopstorm.apps.productCustomizer.formMarkMissingRequired&&(shopstorm.apps.productCustomizer.formMarkMissingRequired=function(o){var e,r,i=!1;return t.each(t(o).find("[name^=properties][required]"),function(o,r){t(r).is(":checkbox, :radio")?t(r).is(":checkbox")&&!t(r).is(":checked")||t(r).is(":radio")&&0==t(r).closest("form").find('input[name="'+t(r).attr("name")+'"]:radio:checked').length?("SPAN"!=t(r).parent().prop("tagName")&&t(r).wrap("<span></span>"),t(r).parent().addClass("missing-required"),t(r).parent().css("border","1px solid red"),i=!0,e||(e=t(r).closest(".product-customizer-option"))):t(r).parent().hasClass("missing-required")&&(t(r).parent().removeClass("missing-required"),t(r).parent().css("border","initial")):t(r).val()?t(r).hasClass("missing-required")&&(t(r).css("border",t(r).data("original-border")),t(r).removeClass("missing-required")):(t(r).hasClass("missing-required")||(t(r).data("original-border",t(r).css("border")),t(r).css("border","1px solid red"),t(r).addClass("missing-required")),i=!0,e||(e=t(r).closest(".product-customizer-option")))}),r=t(o).find(".option-type-checkbox_group[data-min-selections]").not(".conditional-logic-hidden"),r.each(function(o,r){var s=Math.min(t(r).data("min-selections"),t(r).find("input:checkbox").length),n=t(r).find("ul"),a=t(r).find(".product-customizer-selections-message");s>0&&t(r).find("input:checkbox:checked").length<s?(n.hasClass("missing-required")||(n.addClass("missing-required"),n.data("original-border",t(r).css("border")),n.data("original-border-radius",t(r).css("border-radius")),n.data("original-padding",t(r).css("padding")),n.css("border","1px solid red"),n.css("border-radius","3px"),n.css("padding","0 5px"),a.data("original-color",a.css("color")),a.css("color","red")),i=!0,e||(e=t(r))):s>0&&t(r).find("input:checkbox:checked").length>=s&&n.hasClass("missing-required")&&(a.css("color",a.data("original-color")),n.css("border-radius",n.data("original-border-radius")),n.css("border",n.data("original-border")),n.css("padding",n.data("original-padding")),n.removeClass("missing-required"))}),e&&e.length>0&&"undefined"!=typeof e[0].scrollIntoViewIfNeeded&&e[0].scrollIntoViewIfNeeded(),i}),"undefined"==typeof shopstorm.apps.productCustomizer.updateCartPricingItemsQuantities&&(shopstorm.apps.productCustomizer.updateCartPricingItemsQuantities=function(o){var e=o.find("[data-product-customizer-pricing-ref][data-product-customizer-pricing-qty]");t.each(e,function(o,e){var r=t(e).data("product-customizer-pricing-ref"),i=t(e).find('[name="updates[]"]').val(),s=t(e).data("product-customizer-pricing-qty"),n=t(e).siblings("[data-product-customizer-pricing-ref="+r+"]:not([data-product-customizer-pricing-qty])");n.length>0&&parseInt(i)==i&&n.find('[name="updates[]"]').val(i*s)})}),"undefined"==typeof shopstorm.apps.productCustomizer.changeCartPricingItemQuantity&&(shopstorm.apps.productCustomizer.changeCartPricingItemQuantity=function(o,e,r){e="undefined"==typeof e?o.find('[name="updates[]"]').val():e;var i=o.data("line"),s=o.data("product-customizer-pricing-ref"),n=o.data("product-customizer-pricing-qty"),a=o.siblings("[data-product-customizer-pricing-ref="+s+"]:not([data-product-customizer-pricing-qty])");if(a.length>0&&parseInt(e)==e){var p=a.data("line");t.ajax({method:"GET",url:"/cart/change?line="+p+"&quantity="+e*n,async:"undefined"!=typeof r}).always(function(){"undefined"!=typeof r&&(i>p&&0==e&&i--,r(i))})}else"undefined"!=typeof r&&r(i)}),"undefined"==typeof shopstorm.apps.productCustomizer.bindCartRemove&&(shopstorm.apps.productCustomizer.bindCartRemove=function(o,e){"string"!=typeof o&&(o=o.join(" .product-customizer-cart-remove, ")),o+=" .product-customizer-cart-remove",t(document).on("click",o,function(){var o=t(this).closest("[data-product-customizer-pricing-ref][data-product-customizer-pricing-qty]");return o.length>0?(shopstorm.apps.productCustomizer.changeCartPricingItemQuantity(o,0,e),!1):void 0})}),"undefined"==typeof shopstorm.apps.productCustomizer.browserValidatesRequired){var o,e=function(){var t=shopstorm.apps.productCustomizer.Modernizr;return t.input.required&&t.formvalidation};shopstorm.apps.productCustomizer.browserValidatesRequired=e,shopstorm.apps.productCustomizer.isSafari=function(){return!e()},o=window.Modernizr,!function(t,o){function e(t,o){return typeof t===o}function r(){var t,o,r,i,s,n,p;for(var c in a)if(a.hasOwnProperty(c)){if(t=[],o=a[c],o.name&&(t.push(o.name.toLowerCase()),o.options&&o.options.aliases&&o.options.aliases.length))for(r=0;r<o.options.aliases.length;r++)t.push(o.options.aliases[r].toLowerCase());for(i=e(o.fn,"function")?o.fn():o.fn,s=0;s<t.length;s++)n=t[s],p=n.split("."),1===p.length?u[p[0]]=i:(!u[p[0]]||u[p[0]]instanceof Boolean||(u[p[0]]=new Boolean(u[p[0]])),u[p[0]][p[1]]=i),d.push((i?"":"no-")+p.join("-"))}}function i(){return"function"!=typeof o.createElement?o.createElement(arguments[0]):l?o.createElementNS.call(o,"http://www.w3.org/2000/svg",arguments[0]):o.createElement.apply(o,arguments)}function s(){var t=o.body;return t||(t=i(l?"svg":"body"),t.fake=!0),t}function n(t,e,r,n){var a,p,u,d,l="modernizr",m=i("div"),h=s();if(parseInt(r,10))for(;r--;)u=i("div"),u.id=n?n[r]:l+(r+1),m.appendChild(u);return a=i("style"),a.type="text/css",a.id="s"+l,(h.fake?h:m).appendChild(a),h.appendChild(m),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(o.createTextNode(t)),m.id=l,h.fake&&(h.style.background="",h.style.overflow="hidden",d=c.style.overflow,c.style.overflow="hidden",c.appendChild(h)),p=e(m,t),h.fake?(h.parentNode.removeChild(h),c.style.overflow=d,c.offsetHeight):m.parentNode.removeChild(m),!!p}var a=[],p={_version:"3.5.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(t,o){var e=this;setTimeout(function(){o(e[t])},0)},addTest:function(t,o,e){a.push({name:t,fn:o,options:e})},addAsyncTest:function(t){a.push({name:null,fn:t})}},u=function(){};u.prototype=p,u=new u;var d=[],c=o.documentElement,l="svg"===c.nodeName.toLowerCase(),m=p.testStyles=n;u.addTest("formvalidation",function(){var o=i("form");if(!("checkValidity"in o&&"addEventListener"in o))return!1;if("reportValidity"in o)return!0;var e,r=!1;return u.formvalidationapi=!0,o.addEventListener("submit",function(o){(!t.opera||t.operamini)&&o.preventDefault(),o.stopPropagation()},!1),o.innerHTML='<input name="modTest" required="required" /><button></button>',m("#modernizr form{position:absolute;top:-99999em}",function(t){t.appendChild(o),e=o.getElementsByTagName("input")[0],e.addEventListener("invalid",function(t){r=!0,t.preventDefault(),t.stopPropagation()},!1),u.formvalidationmessage=!!e.validationMessage,o.getElementsByTagName("button")[0].click()}),r});var h=i("input"),f="autocomplete autofocus list placeholder max min multiple pattern required step".split(" "),g={};u.input=function(o){for(var e=0,r=o.length;r>e;e++)g[o[e]]=!!(o[e]in h);return g.list&&(g.list=!(!i("datalist")||!t.HTMLDataListElement)),g}(f),r(),delete p.addTest,delete p.addAsyncTest;for(var v=0;v<u._q.length;v++)u._q[v]();t.Modernizr=u}(window,document),shopstorm.apps.productCustomizer.Modernizr=window.Modernizr,window.Modernizr=o}"undefined"==typeof shopstorm.apps.productCustomizer.hidePricingItemRowHelper&&(shopstorm.apps.productCustomizer.hidePricingItemRowHelper=function(t){var o="";return t.properties&&t.properties._pc_pricing_ref&&"undefined"==typeof t.properties._pc_pricing_qty&&(o="display: none;"),o}),"undefined"==typeof shopstorm.apps.productCustomizer.cartRowDataHelper&&(shopstorm.apps.productCustomizer.cartRowDataHelper=function(t,o){var e=' data-line="'+o+'"';return t.properties&&t.properties._pc_pricing_ref&&(e+=' data-product-customizer-pricing-ref="'+t.properties._pc_pricing_ref+'"'),t.properties&&t.properties._pc_pricing_qty&&(e+=' data-product-customizer-pricing-qty="'+t.properties._pc_pricing_qty+'"'),e}),"undefined"==typeof shopstorm.apps.productCustomizer.lineItemPropertiesHelper&&(shopstorm.apps.productCustomizer.lineItemPropertiesHelper=function(o,e){e=e||"before";var r=[],i="";return o.properties&&t.each(o.properties,function(t,o){var e="";return o?"_"==t.charAt(0)?(i+='<span style="display: none;" class="product-customizer-line-item-prop" data-prop-name="'+t+'">'+t+": "+o+"</span>",!0):(e='<span class="product-customizer-line-item-prop" data-prop-name="'+t+'">'+t+": ",e+=o.indexOf("/uploads/")>-1?'<a href="'+o+'">Click to see</a>':o.replace(/\n/g,"<br/>"),e+="</span>",void r.push(e)):!0}),("before"==e?"<br/>":"")+r.join("<br/>")+("after"==e?"<br/>":"")+i}),"undefined"==typeof shopstorm.apps.productCustomizer.removeFromCartHrefHelper&&(shopstorm.apps.productCustomizer.removeFromCartHrefHelper=function(t,o,e){return e=e||"/cart/change?line="+o+"&amp;quantity=0",t.properties&&t.properties._pc_pricing_ref&&t.properties._pc_pricing_qty?"#"+o:e}),"undefined"==typeof shopstorm.apps.productCustomizer.removeFromCartClassHelper&&(shopstorm.apps.productCustomizer.removeFromCartClassHelper=function(t,o){return o=o||"",t.properties&&t.properties._pc_pricing_ref&&t.properties._pc_pricing_qty?"product-customizer-cart-remove":o}),"undefined"==typeof shopstorm.apps.productCustomizer.itemLinePriceHelper&&(shopstorm.apps.productCustomizer.itemLinePriceHelper=function(o,e){var r=e.line_price;return e.properties&&e.properties._pc_pricing_ref&&e.properties._pc_pricing_qty&&t.each(o,function(t,o){return o.properties&&"undefined"==typeof o.properties._pc_pricing_qty&&o.properties._pc_pricing_ref==e.properties._pc_pricing_ref?(r+=parseInt(o.line_price),!1):void 0}),r}),"undefined"==typeof shopstorm.apps.productCustomizer.itemPriceHelper&&(shopstorm.apps.productCustomizer.itemPriceHelper=function(o,e){var r=e.price;return e.properties&&e.properties._pc_pricing_ref&&e.properties._pc_pricing_qty&&t.each(o,function(t,o){return o.properties&&"undefined"==typeof o.properties._pc_pricing_qty&&o.properties._pc_pricing_ref==e.properties._pc_pricing_ref?(r+=parseInt(e.properties._pc_pricing_qty)*parseInt(o.price),!1):void 0}),r}),"undefined"==typeof shopstorm.apps.productCustomizer.cartItemCountHelper&&(shopstorm.apps.productCustomizer.cartItemCountHelper=function(o){var e=o.item_count;return t.each(o.items,function(t,o){o.properties&&o.properties._pc_pricing_ref&&"undefined"==typeof o.properties._pc_pricing_qty&&(e-=parseInt(o.quantity))}),e}),"undefined"==typeof shopstorm.apps.productCustomizer.doSubmit&&(shopstorm.apps.productCustomizer.doSubmit=function(o){var o=t(document).find('form[action="/cart"');if(o.onsubmit)var e=o.onsubmit.call(o);e!==!1&&o.submit()}),"undefined"==typeof shopstorm.apps.productCustomizer.getWindowJQuery&&(shopstorm.apps.productCustomizer.getWindowJQuery=function(){return window.jQuery||t}),"undefined"==typeof shopstorm.apps.productCustomizer.formatMoney&&(shopstorm.apps.productCustomizer.formatMoney=function(t,o){function e(t,o){return"undefined"==typeof t?o:t}function r(t,o,r,i){if(o=e(o,2),r=e(r,","),i=e(i,"."),isNaN(t)||null==t)return 0;t=(t/100).toFixed(o);var s=t.split("."),n=s[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+r),a=s[1]?i+s[1]:"";return n+a}if("undefined"!=typeof Shopify.formatMoney)return Shopify.formatMoney(t,o);var i="",s=/\{\{\s*(\w+)\s*\}\}/,n=o||"${{amount}}";switch("string"==typeof t&&(t=t.replace(".","")),n.match(s)[1]){case"amount":i=r(t,2);break;case"amount_no_decimals":i=r(t,0);break;case"amount_with_comma_separator":i=r(t,2,".",",");break;case"amount_no_decimals_with_comma_separator":i=r(t,0,".",",")}return n.replace(s,i)});var r=t.grep(t("script"),function(t){return t.innerHTML.match(/product-customizer-v\d+[0-9a-f-]*\.js/)});if(0==r.length&&t(".product-customizer-options, .product-customizer-customizations-total").remove(),"undefined"==typeof window.shopstorm.apps.productCustomizer.options||t.isArray(window.shopstorm.apps.productCustomizer.options)){var s={push:function(o){var e=o.id,r=t('.product-customizer-options[data-product-id="'+e+'"]'),i=o.data;if(this.productOptions=this.productOptions||{},this.productTitles=this.productTitles||{},this.discount=o.discount||0,!r.data("product-options-loaded")&&(r.attr("data-product-options-loaded",!0),i=function(o){var e,r,i=[];for(e in o)r=t.parseJSON(o[e]),r.fieldKey=e,i.push(r);return i.sort(function(t,o){var e="position";return t.hasOwnProperty(e)||(e="fieldKey"),t[e]<o[e]?-1:t[e]>o[e]?1:0})}(i),this.productOptions[e]=i,this.productTitles[e]=o.title,0!=r.length)){t(".product-customizer-options input:file").on("change",function(){var o,e,r,i,s;o=t(this),r=o.attr("name"),i=o.val(),e=o.prev('[type="hidden"]'),r&&i?(0==e.length&&(s=r.replace("properties[","properties[_"),e=t('<input type="hidden" name="'+s+'" />').insertBefore(o)),e.val(i.replace("C:\\fakepath\\",""))):e.remove()});var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",s.href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css",document.getElementsByTagName("HEAD")[0].appendChild(s);var n=document.createElement("script");n.src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js",n.onload=n.onreadystatechange=function(){jQuery(".product-customizer-options input.pc_date").datepicker({onSelect:function(t){var o=new Date(t).toLocaleDateString();this.value=o}})};try{document.body.appendChild(n)}catch(a){try{document.documentElement.childNodes[0].appendChild(n)}catch(a){console.warn("Shopify Product Customizer: error loading jquery ui")}}t(".product-customizer-options .option-type-checkbox_group").on("change","input:checkbox",function(){var o=t(this).closest(".option-type-checkbox_group"),e=t.makeArray(o.find("input:checkbox:checked").map(function(o,e){return t(e).val()
})).join(", ");o.data("max-selections")&&(o.find("input:checkbox:checked").length==o.data("max-selections")?o.find("input:checkbox:not(:checked)").prop("disabled",!0).siblings("label").addClass("disabled"):o.find("input:checkbox:not(:checked)").prop("disabled",!1).siblings("label").removeClass("disabled")),o.find("input:hidden").val(e)}),t(".product-customizer-options .option-type-select select[multiple]").on("change",function(){var o=t(this).closest(".option-type-select"),e=t(this).val().join(", "),r=o.find("input:hidden");0==r.length&&(r=t('<input type="hidden" name="'+t(this).attr("name")+'" value="" />').appendTo(o),t(this).attr("name",null)),r.val(e)}),t(".rc_container input.rc_radio").on("change",t.proxy(function(){this.showOptionsCost(e)},this));{r.closest('form[action="/cart/add"], form[action^="/cart/add?"]')}t.each(i,function(o){return function(i,s){var n,a,p;a=s.fieldKey,p=i+1,n=t(r.data("version")&&shopstorm.apps.versionCompare(r.data("version"),"1.6.3",">")?"#"+e+"_option_"+p:"#"+e+"_option_"+a.split("_")[0]),(s.price||s.option_prices)&&(n.closest(".option-type-checkbox_group, .option-type-radio").length>0&&(n=n.closest(".option-type-checkbox_group, .option-type-radio").find("input:checkbox, input:radio")),shopstorm.apps.productCustomizer.pricingVariantId?(n.on("change input",{productId:e},function(t){return function(o){t.showOptionsCost(o.data.productId)}}(o)),r.attr("data-product-customizer-option-pricing",!0)):console.warn("Shopify Product Customizer: dynamic pricing product variant id missing")),p++}}(this)),1==r.data("product-customizer-option-pricing")&&this.showOptionsCost(e),this.setupAddToCartFormHandlers(e),this.initializeDeferredSetup()}},initializeDeferredSetup:function(){shopstorm.apps.productCustomizer.deferredSetupInitialized||(shopstorm.apps.productCustomizer.deferredSetupInitialized=!0,t(window).on("load",function(o){return function(){t.each(o.productOptions,function(t){o.setupAddToCartFormHandlers(t)})}}(this)),t(window.document).ready(function(o){return function(){t.each(o.productOptions,function(t){o.setupAddToCartFormHandlers(t)})}}(this)))},setupAddToCartFormHandlers:function(o){this.handleFileUploadFields(o),this.enforceRequiredFields(o),this.setupOptionPricing(o),t('.product-customizer-options[data-product-id="'+o+'"]').trigger("product-customizer-add-to-cart-form-handlers-setup"),t!=shopstorm.apps.productCustomizer.getWindowJQuery()&&shopstorm.apps.productCustomizer.getWindowJQuery()('.product-customizer-options[data-product-id="'+o+'"]').trigger("product-customizer-add-to-cart-form-handlers-setup")},handleFileUploadFields:function(o){var e=t('.product-customizer-options[data-product-id="'+o+'"]').closest('form[action="/cart/add"], form[action^="/cart/add?"]');e.find("input:file").length>0&&(e.attr("enctype","multipart/form-data"),shopstorm.apps.productCustomizer.noHandleFileUploadFields||(e.addClass("noAJAX"),this.unbindProductFormHandlers(o)))},enforceRequiredFields:function(o,e){e=e||!1;var r=t('.product-customizer-options[data-product-id="'+o+'"]').closest('form[action="/cart/add"], form[action^="/cart/add?"]');if((e||0!=r.find("[name^=properties][required]").length||0!=r.find(".option-type-checkbox_group[data-min-selections]").length)&&(shopstorm.apps.productCustomizer.skipRequiredFieldsUnbind||this.unbindProductFormHandlers(o),e||!shopstorm.apps.productCustomizer.browserValidatesRequired()||0!=r.find(".option-type-checkbox_group[data-min-selections]").length)){var i=this.getProductFormForEvents(o);"undefined"!=typeof i.on?i.on("submit",{productId:o},function(){return shopstorm.apps.productCustomizer.formMarkMissingRequired(this)?!1:void 0}):i.bind("submit",{productId:o},function(){return shopstorm.apps.productCustomizer.formMarkMissingRequired(this)?!1:void 0})}},showOptionsCost:function(o){var e=shopstorm.apps.productCustomizer.sumOptionsCost(o),r=t(".product-customizer-options[data-product-id="+o+"]");t('.product-customizer-options[data-product-id="'+o+'"]').trigger("product-customizer-show-options-cost",e),t!=shopstorm.apps.productCustomizer.getWindowJQuery()&&shopstorm.apps.productCustomizer.getWindowJQuery()('.product-customizer-options[data-product-id="'+o+'"]').trigger("product-customizer-show-options-cost",e);var i=r.find(".customizations-total span");0==i.length&&(i=t(".product-customizer-customizations-total[data-product-id="+o+"] span")),i.length>0&&i.html(shopstorm.apps.productCustomizer.formatMoney(e,shopstorm.shop.moneyFormat))},setupOptionPricing:function(o){var e=t('.product-customizer-options[data-product-id="'+o+'"]');if(1==e.data("product-customizer-option-pricing")&&!shopstorm.apps.productCustomizer.noHandlePricingOptionsAddToCart){this.unbindProductFormHandlers(o),this.enforceRequiredFields(o);var r=this.getProductFormForEvents(o);"undefined"!=typeof r.on?r.on("submit",{productId:o},function(t){return shopstorm.apps.productCustomizer.addOptionPricingItemToCart(t.data.productId)}):r.bind("submit",{productId:o},function(t){return shopstorm.apps.productCustomizer.addOptionPricingItemToCart(t.data.productId)})}},manualAddOptions:function(){var t=document.getElementsByClassName("product-customizer-options");1==t.length&&shopstorm.apps.productCustomizer.addOptionPricingItemToCart(t[0].dataset.productId)},getProductFormForEvents:function(o,e){return e=e||shopstorm.apps.productCustomizer.getWindowJQuery(),-1==t.inArray(e,window.shopstorm.apps.productCustomizer.jQueries)&&window.shopstorm.apps.productCustomizer.jQueries.push(e),e('.product-customizer-options[data-product-id="'+o+'"]').closest("form")},unbindProductFormHandlers:function(o){this.getProductFormForEvents(o);var e=this.getProductFormForEvents;t.each(window.shopstorm.apps.productCustomizer.jQueries,function(t,r){$form=e(o,r),"undefined"!=typeof $form.off?($form.off(),$form.find(shopstorm.apps.productCustomizer.productFormAddToCartSelector||":submit").prop("onclick",null).off()):($form.unbind(),$form.find(shopstorm.apps.productCustomizer.productFormAddToCartSelector||":submit").attr("onclick","").unbind())}),t('.product-customizer-options[data-product-id="'+o+'"]').trigger("product-customizer-unbind-product-form-handlers"),t!=shopstorm.apps.productCustomizer.getWindowJQuery()&&shopstorm.apps.productCustomizer.getWindowJQuery()('.product-customizer-options[data-product-id="'+o+'"]').trigger("product-customizer-unbind-product-form-handlers")}};if("undefined"==typeof window.shopstorm.apps.productCustomizer.options)window.shopstorm.apps.productCustomizer.options=s;else if(t.isArray(window.shopstorm.apps.productCustomizer.options)){var n=window.shopstorm.apps.productCustomizer.options;window.shopstorm.apps.productCustomizer.options=s,t.each(n,function(t,o){s.push(o)})}}t.each(t('form[action="/cart"], form[action^="/cart?"]'),function(o,e){var r=t(e);return r.data("product-options-initialized")?!0:(r.attr("data-product-options-initialized",!0),void t.each(r.find("[data-product-customizer-pricing-ref]:not([data-product-customizer-pricing-qty])"),function(o,e){var i=t(e).data("product-customizer-pricing-ref"),s=r.find("[data-product-customizer-pricing-ref="+i+"][data-product-customizer-pricing-qty]");t.each(t(e).find("[data-prop-name]"),function(o,e){var r=s.find('[data-prop-name="'+t(e).data("prop-name").replace(/^_/,"")+'"]');r.length>0&&r.text()!=t(e).text()&&0==r.find(".option-amount").length&&(match=t(e).text().trim().match(/\((\d+)\)$/))&&match[1]>0&&r.html(r.html()+'<span class="option-amount">(+ '+shopstorm.apps.productCustomizer.formatMoney(match[1],shopstorm.shop.moneyFormat)+")</span>")})}))}),shopstorm.apps.productCustomizer.cartFormInitialized||(shopstorm.apps.productCustomizer.cartFormInitialized=!0,t(document).on("submit",'form[action="/cart"], form[action^="/cart?"]',function(){t(this).prop("data-doing-submit",!0),shopstorm.apps.productCustomizer.updateCartPricingItemsQuantities(t(this))}),t(document).ajaxSend(function(o,e,r){if("/cart/change.js"==r.url){var i,s,n=r.data.split("&");t.each(n,function(t,o){var e=o.split("=")[0];"quantity"==e?i=o.split("=")[1]:"line"==e&&(s=o.split("=")[1])});var a=t(document).find("[data-line="+s+"]").first();shopstorm.apps.productCustomizer.changeCartPricingItemQuantity(a,i)}}),shopstorm.apps.productCustomizer.bindCartRemove(['form[action="/cart"]','form[action^="/cart?"]'],function(t){window.location.href="/cart/change?line="+t+"&quantity=0"})),shopstorm.apps.productCustomizer.triggeredProductCustomizerScriptLoaded||(shopstorm.apps.productCustomizer.triggeredProductCustomizerScriptLoaded=!0,t(document).trigger("product-customizer-script-loaded"),t!=shopstorm.apps.productCustomizer.getWindowJQuery()&&shopstorm.apps.productCustomizer.getWindowJQuery()(document).trigger("product-customizer-script-loaded"));var a=window.shopstorm.ConditionalLogic;a&&a.init&&t(a.init),shopstorm.apps.productCustomizer.swatchTriggered||(shopstorm.apps.productCustomizer.swatchTriggered=!0,t(document).on("click",".product-customizer-swatch__trigger",function(o){t(".product-customizer-swatch-container.open").not(o.currentTarget.parentElement).toggleClass("open"),o.currentTarget.parentElement.classList.toggle("open"),o.stopPropagation()}),t(document).on("click",".product-customizer-swatch",function(o){t(o.currentTarget).parent().find(".product-customizer-swatch.selected").toggleClass("selected"),o.currentTarget.parentElement.parentElement.classList.toggle("open"),o.currentTarget.classList.toggle("selected"),document.getElementById(o.currentTarget.dataset.id).value=o.currentTarget.dataset.value,o.currentTarget.parentElement.parentElement.querySelector(".product-customizer-selected-swatch").innerHTML=o.currentTarget.innerHTML,"function"==typeof window.productCustomizerCallbacks.swatchSelected&&window.productCustomizerCallbacks.swatchSelected(o.currentTarget.dataset.id,o.currentTarget.dataset.value);var e=document.getElementsByClassName("product-customizer-options")[0].dataset.productId;window.shopstorm.apps.productCustomizer.options.showOptionsCost(e),o.stopPropagation()}),t(window).click(function(){t(".product-customizer-swatch-container.open").toggleClass("open")}),t(".custom_font_selector").fontselect().on("change",function(t){if(console.log("You selected font: "+t),t.target.value.length>0){var o=t.target.value;o=o.replace(/\+/g," "),o=o.split(":");var e=o[0],r=o[1]||400;jQuery("#"+t.target.dataset.target).css({fontFamily:"'"+e+"'",fontWeight:r}),"function"==typeof window.productCustomizerCallbacks.fontSelected&&window.productCustomizerCallbacks.fontSelected(t.target.dataset.target,e)}}),t(".product-customizer-option input[type='file']").change(function(){if(input=this,input.files&&input.files[0]&&input.files[0].type.includes("image")){var o=new FileReader;o.onload=function(o){var e=t("#"+input.id+"_preview");if(0==e.length){var e=t("<img />",{id:input.id+"_preview",src:o.target.result,"class":"product-customizer-preview"});e.appendTo(t(input).parent())}else e.attr("src",o.target.result);"function"==typeof window.productCustomizerCallbacks.previewImage&&window.productCustomizerCallbacks.previewImage(input.id,e)},o.readAsDataURL(input.files[0])}else t("#"+input.id+"_preview").remove()})),"function"==typeof window.productCustomizerLoaded&&window.productCustomizerCallbackLoaded()}),function(){var t;window.shopstorm||(window.shopstorm={}),(t=window.shopstorm).ConditionalLogic||(t.ConditionalLogic={})}.call(this),function(){var t,o;t=window.shopstorm.ConditionalLogic,o=function(){function o(o){this.productOptionId=o,this.productOptionId&&(this.$option=t.$(".product-customizer-option[data-product-option-id="+this.productOptionId+"]"),this.$field=this.$option.find("input,select,textarea").filter('[name][type!="hidden"]'))}var e,r;return e="conditional-logic-hidden",o.prototype.compareValue=function(o,e){var r,i;return i=this.getValue(),r=null===i?t.NullComparableValue:new t.ComparableValue(i),r[o](e)},o.prototype.getValue=function(){var t;return this.$option.hasClass(e)?null:(t=this.getOptionKind(),r(t).call(this))},o.prototype.getOptionKind=function(){var t;return t=/option-type-(\S+)/.exec(this.$option.attr("class")||""),t?t[1]:""},o.prototype.show=function(){return this.$option.hasClass(e)?(this.restoreFieldRequired(),this.restoreFields(),this.$option.show().removeClass(e),this.reTriggerHandlers(),!0):!1},o.prototype.hide=function(){return this.$option.hasClass(e)||0===this.$option.length?!1:(this.$option.hide().addClass(e),this.stashFields(),this.stashFieldRequired(),this.reTriggerHandlers(),!0)},o.prototype.stashFields=function(){var t;t=this.$option.find("input,select,textarea"),t.attr("hidden","hidden"),t.prop("disabled",!0)},o.prototype.restoreFields=function(){var t;t=this.$option.find("input,select,textarea"),t.removeAttr("hidden"),t.prop("disabled",!1)},o.prototype.stashFieldRequired=function(){return this.$field.prop("required")?this.$field.data("required",!0).prop("required",!1):void 0},o.prototype.restoreFieldRequired=function(){return this.$field.data("required")?this.$field.prop("required",!0).removeData("required"):void 0},o.prototype.reTriggerHandlers=function(){return this.$field.triggerHandler("change")},r=function(t){var o,e;return o=function(){return(this.$field.val()||"").toLowerCase()},e={checkbox:function(){return this.$field.is(":checked")?"checked":""},checkbox_group:function(){return this.$option.find("input:checked").toArray().map(function(t){return t.value.toLowerCase()})},file:function(){return this.$field.val()?"chosen":""},radio:function(){return(this.$field.filter("input:checked").val()||"").toLowerCase()}},e[t]||o},o}(),t.ComparableValue=function(){function t(t){this.sourceValue=t}return t.prototype.is=function(t){return Array.isArray(this.sourceValue)?this.contains(t):this.sourceValue===t},t.prototype.isNot=function(t){return!this.is(t)},t.prototype.contains=function(t){return-1!==this.sourceValue.indexOf(t)},t.prototype.startsWith=function(t){return 0===this.sourceValue.indexOf(t)},t.prototype.endsWith=function(t){var o;return o=this.sourceValue.length-t.length,0>o?!1:this.sourceValue.substring(o)===t},t.prototype.greaterThan=function(t){return/^[\d\.]+$/.test(t)?+this.sourceValue>+t:this.sourceValue>t},t.prototype.lessThan=function(t){return/^[\d\.]+$/.test(t)?+this.sourceValue<+t:this.sourceValue<t},t}(),t.NullComparableValue=function(){var t;return t=function(){return!1},{sourceValue:null,is:t,isNot:function(){return!0},contains:t,startsWith:t,endsWith:t,greaterThan:t,lessThan:t}}(),t.OptionField=o}.call(this),function(){var t,o;o=window.shopstorm.ConditionalLogic.OptionField,t=function(){function t(t){this.productOptionId=t.product_option_id,this.method=t.action_type,this.reversed=!1}var e;return t.prototype.execute=function(){var t;return t=new o(this.productOptionId),this.reversed=!1,t[this.method]()},t.prototype.reverse=function(){var t,r;return t=new o(this.productOptionId),r=e[this.method],this.reversed=!0,t[r]()},t.prototype.isEquivalentOf=function(t){return["productOptionId","method","reversed"].every(function(o){return function(e){return o[e]===t[e]}}(this))},e={hide:"show",show:"hide"},t}(),window.shopstorm.ConditionalLogic.Action=t}.call(this),function(){var t,o;o=window.shopstorm.ConditionalLogic.OptionField,t=function(){function t(t){this.productOptionId=t.product_option_id,this.operator=t.operator,this.value=t.value.toLowerCase()}return t.prototype.evaluate=function(){var t;return t=new o(this.productOptionId),t.compareValue(this.operator,this.value)},t}(),window.shopstorm.ConditionalLogic.Condition=t}.call(this),function(){var t,o,e;o=window.shopstorm.ConditionalLogic.Condition,t=window.shopstorm.ConditionalLogic.Action,e=function(){function e(t){this.logicMatch=t.logic_match,this.conditions=t.conditions,this.actions=t.actions}var r;return e.prototype.evaluateConditions=function(){var t;if("all"!==(t=this.logicMatch)&&"any"!==t&&"none"!==t)throw new Error("Conditional Logic unknown rule logicMatch '"+this.logicMatch+"'. Must be one of [all, any, none]");return e[this.logicMatch].call(this)},e.prototype.run=function(){var o,e;return o=[],e=this.evaluateConditions(),this.actions.forEach(function(r){var i,s;return i=new t(r),s=e?i.execute():i.reverse(),s?o.push(i):void 0}),o},e.all=function(){return this.conditions.every(r)},e.any=function(){return this.conditions.some(r)},e.none=function(){return!this.conditions.some(r)},r=function(t){return new o(t).evaluate()},e}(),window.shopstorm.ConditionalLogic.Rule=e}.call(this),function(){var t,o,e,r,i,s;t=window.shopstorm.ConditionalLogic,r=0,t.runAll||(t.runAll=function(){var e,r;return e=[],r=t.rules||[],r.forEach(function(o){var r,i;return i=new t.Rule(o),r=i.run(),e=e.concat(r)}),o(e)&&s(r.length+1)?t.runAll():i()}),t.init||(t.init=function(o){return t.$||(t.$=o),t.$(".product-customizer-options").off("change",t.runAll).on("change",t.runAll),t.runAll()}),o=function(t){var o,r,i,s,n;if(!t.length)return!1;o=e(t);for(s in o)if(n=o[s],r=n[0],i=n[n.length-1],r.isEquivalentOf(i))return!0;return!1},e=function(t){return t.reduce(function(t,o){var e;return e=o.productOptionId,t[e]=(t[e]||[]).concat(o),t},{})},s=function(t){var o;return o=!(t%2),o&&t++,t>r?(r++,!0):(i(),console.warn("Product Customizer conditional logic detected looping rules - interrupting."),!1)},i=function(){return r=0}}.call(this);